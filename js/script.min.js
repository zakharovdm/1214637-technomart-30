const popup=document.querySelector(".modal-feedback"),mapPopup=document.querySelector(".modal-map"),button=document.querySelector(".button-contacts"),close=document.querySelector(".modal-close"),notice=document.querySelector(".modal-notice"),buttonBuys=document.querySelectorAll(".button-buy"),noticeClose=notice.querySelector(".modal-close"),buttonContinue=notice.querySelector(".button-modal-notice");let slider=document.querySelector(".slider"),sliderService=document.querySelector(".slider-area-services");if(popup&&mapPopup){const a=popup.querySelector(".form-modal"),b=popup.querySelector("[name=user-name]"),c=popup.querySelector("[name=user-email]"),d=popup.querySelector("[name=user-message]");let e=!0,f="",g="";const h=document.querySelector(".map-link"),i=mapPopup.querySelector(".modal-close");try{f=localStorage.getItem("name"),g=localStorage.getItem("email")}catch(a){e=!1}button.addEventListener("click",function(a){a.preventDefault(),popup.classList.add("modal-show"),f&&g?(b.value=f,c.value=g,d.focus()):b.focus()}),close.addEventListener("click",function(){popup.classList.remove("modal-show"),popup.classList.remove("modal-error")}),a.addEventListener("submit",function(a){b.value&&c.value&&d.value?e&&(localStorage.setItem("name",b.value),localStorage.setItem("email",c.value)):(a.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&popup.classList.contains("modal-show")&&(a.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"))}),h.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("modal-show")}),i.addEventListener("click",function(){mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&mapPopup.classList.contains("modal-show")&&(a.preventDefault(),mapPopup.classList.remove("modal-show"))})}for(let a of buttonBuys)a.addEventListener("click",function(a){a.preventDefault(),notice.classList.add("modal-show")});noticeClose.addEventListener("click",function(){notice.classList.remove("modal-show")}),buttonContinue.addEventListener("click",function(a){a.preventDefault(),notice.classList.remove("modal-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&notice.classList.contains("modal-show")&&(a.preventDefault(),notice.classList.remove("modal-show"))});let slideIndex=1;showSlides(slideIndex);function nextSlide(){showSlides(slideIndex+=1)}function previousSlide(){showSlides(slideIndex-=1)}function currentSlide(a){showSlides(slideIndex=a)}function showSlides(a){let b=document.getElementsByClassName("slide"),c=document.getElementsByClassName("btn-bottom");a>b.length&&(slideIndex=1),1>a&&(slideIndex=b.length);for(let c=0;c<b.length;c++)b[c].style.display="none";for(let b=0;b<c.length;b++)c[b].className=c[b].className.replace(" btn-current","");b[slideIndex-1].style.display="block",c[slideIndex-1].className+=" btn-current"}slider.addEventListener("click",function(a){const b=a.target,c=b.id;b.classList.contains("btn-middle-back")&&previousSlide(),b.classList.contains("btn-middle-forward")&&nextSlide(),b.classList.contains("btn-bottom")&&currentSlide(c)});let slideIndexServ=3;function currentSlideService(a){showSlidesService(slideIndexServ=a)}function showSlidesService(){let a=document.getElementsByClassName("slide-service"),b=document.getElementsByClassName("button-service");for(let b=0;b<a.length;b++)a[b].style.display="none";for(let a=0;a<b.length;a++)b[a].className=b[a].className.replace(" button-service-active","");a[slideIndexServ-3].style.display="block",b[slideIndexServ-3].className+=" button-service-active"}sliderService.addEventListener("click",function(a){const b=a.target,c=b.id;b.classList.contains("button-service")&&currentSlideService(c)});
